# 智能体配置指南

## 概述

智能体广场系统允许管理员创建和配置各种AI驱动的应用，用户可以通过表单提交与智能体交互。本指南将详细介绍如何配置和管理智能体应用。

## 1. 基本信息配置

### 1.1 应用标识

- **应用名称** (`name`): 系统内部使用的唯一标识符

  - 格式：英文字母、数字和下划线
  - 示例：`document_summarizer`, `creative_writing_helper`
  - 注意：创建后不可修改

- **显示名称** (`display_name`): 用户界面显示的友好名称
  - 格式：中文或英文，支持特殊字符
  - 示例：`文档总结助手`, `创意写作工具`
  - 注意：必填项，用户可见

### 1.2 描述信息

- **应用描述** (`description`): 详细说明应用的功能和用途
  - 长度：建议50-200字符
  - 示例：`帮助您快速总结长篇文档内容，提取关键信息，节省阅读时间`

### 1.3 视觉标识

- **应用图标** (`icon`): 使用Emoji表情符号
  - 格式：单个Emoji字符
  - 示例：`📄` (文档), `✍️` (写作), `📊` (分析), `🤖` (通用)
  - 默认：`🤖`

### 1.4 分类管理

- **应用分类** (`category`): 将应用归类便于管理和浏览
- **默认分类**:

  - `general` - 通用
  - `productivity` - 效率
  - `creative` - 创意
  - `analysis` - 分析

- **自定义分类**:
  1. 点击"管理分类"按钮
  2. 输入分类名称（显示用）和分类值（系统用）
  3. 支持添加和删除自定义分类
  4. 默认分类无法删除

## 2. 费用配置

### 2.1 积分设置

- **每次使用积分** (`cost_per_use`): 用户使用一次应用消耗的积分
- **配置方式**:
  - 手动输入：直接设置固定积分数
  - 智能建议：系统根据选择的AI模型自动建议费用
  - 最小值：1积分

### 2.2 费用建议算法

系统会根据AI模型类型自动建议费用：

| 模型类型    | 建议积分 | 说明                 |
| ----------- | -------- | -------------------- |
| GPT-3.5     | 50积分   | 成本较低的快速模型   |
| GPT-4       | 200积分  | 高性能模型，成本较高 |
| GPT-4 Turbo | 150积分  | 平衡性能与成本       |
| Claude-3    | 100积分  | 高质量对话模型       |
| Gemini      | 80积分   | Google多模态模型     |
| 其他模型    | 100积分  | 默认标准费用         |

## 3. 表单配置

### 3.1 表单基础信息

- **表单标题** (`form_config.title`): 用户看到的表单标题
- **表单描述** (`form_config.description`): 表单使用说明

### 3.2 表单字段类型

#### 3.2.1 文本输入 (text)

```javascript
{
  type: 'text',
  label: '文本输入',
  required: false,
  placeholder: '请输入文本',
  validation: { maxLength: 100 }
}
```

#### 3.2.2 下拉选择 (select)

```javascript
{
  type: 'select',
  label: '下拉选择',
  required: false,
  options: [
    { value: 'option1', label: '选项1' },
    { value: 'option2', label: '选项2' }
  ]
}
```

#### 3.2.3 开关控件 (switch)

```javascript
{
  type: 'switch',
  label: '开关控件',
  required: false,
  defaultValue: false
}
```

#### 3.2.4 文件上传 (file)

```javascript
{
  type: 'file',
  label: '文件上传',
  required: false,
  validation: {
    maxFiles: 10,
    maxSize: '10MB',
    allowedTypes: ['.png', '.jpg', '.pdf', '.docx']
  }
}
```

### 3.3 字段配置属性

| 属性           | 类型    | 必需 | 说明                   |
| -------------- | ------- | ---- | ---------------------- |
| `type`         | string  | ✓    | 字段类型               |
| `label`        | string  | ✓    | 字段显示名称           |
| `required`     | boolean |      | 是否必填，默认false    |
| `placeholder`  | string  |      | 占位符文本             |
| `defaultValue` | any     |      | 默认值                 |
| `validation`   | object  |      | 验证规则               |
| `options`      | array   |      | 选择项（仅select类型） |

## 4. AI配置

### 4.1 模型选择

- **AI模型** (`ai_config.model`): 选择用于处理用户请求的AI模型
- **模型来源**: 系统中已配置的可用模型
- **注意**: 模型选择会影响积分建议

### 4.2 系统提示词

- **系统提示** (`ai_config.system_prompt`): 定义AI的角色和行为规则
- **编写要点**:

  - 明确AI的角色定位
  - 说明处理任务的方式
  - 定义回复的风格和格式
  - 设置必要的限制和安全规则

- **示例**:

```
你是一个专业的文档总结助手，擅长快速提取文档的关键信息。

任务要求：
1. 仔细阅读用户上传的文档内容
2. 提取3-5个关键要点
3. 用简洁明了的语言总结主要内容
4. 突出重要数据和结论

回复格式：
- 总结：[一段话总结]
- 关键要点：[分点列出]
- 重要信息：[数据、时间、人物等]

注意事项：
- 保持客观中性
- 避免添加主观判断
- 如遇到敏感内容，礼貌拒绝处理
```

### 4.3 参数调优

#### 4.3.1 Temperature (温度)

- **范围**: 0.0 - 2.0
- **默认**: 0.7
- **说明**: 控制AI回复的创造性和随机性
  - 0.0-0.3: 非常准确，适合分析任务
  - 0.4-0.7: 平衡准确性和创造性
  - 0.8-1.2: 较有创造性，适合创作任务
  - 1.3-2.0: 极富创造性，输出较随机

#### 4.3.2 最大Token数

- **范围**: 1 - 8192
- **默认**: 2000
- **说明**: 限制AI回复的最大长度
  - 短回复：500-1000
  - 中等回复：1000-2000
  - 长回复：2000-4000
  - 极长回复：4000-8192

## 5. 应用状态管理

### 5.1 状态类型

- **活跃** (`active`): 用户可正常访问和使用
- **禁用** (`inactive`): 暂时禁用，用户无法访问
- **草稿** (`draft`): 开发中，仅管理员可见

### 5.2 状态切换

- 点击状态按钮可快速切换状态
- 状态变更立即生效
- 禁用状态下用户看不到该应用

## 6. 最佳实践

### 6.1 应用设计原则

1. **功能单一**: 每个智能体专注解决一个特定问题
2. **描述清晰**: 让用户一眼就能理解应用的作用
3. **表单简洁**: 只收集必要的信息，避免过于复杂
4. **提示词精确**: 系统提示词要具体、明确、可执行

### 6.2 费用设置建议

1. **公平定价**: 根据模型成本和处理复杂度合理定价
2. **分层定价**: 简单任务低价，复杂任务高价
3. **用户友好**: 避免过高费用影响使用体验

### 6.3 系统提示词编写技巧

1. **角色定义**: 明确AI扮演的角色
2. **任务说明**: 详细描述要完成的任务
3. **输出格式**: 规定回复的结构和格式
4. **限制条件**: 设置安全和质量控制规则
5. **示例演示**: 可以提供少量示例

### 6.4 表单设计建议

1. **必填最少**: 只将核心信息设为必填
2. **默认值**: 为常用字段设置合理默认值
3. **验证规则**: 设置适当的数据验证
4. **用户体验**: 考虑表单填写的便利性

## 7. 常见问题

### 7.1 模型选择

**Q: 如何选择合适的AI模型？**
A: 根据任务复杂度选择：

- 简单文本处理：GPT-3.5
- 复杂分析任务：GPT-4
- 对话交互：Claude-3
- 多媒体处理：Gemini

### 7.2 费用设置

**Q: 积分费用如何计算？**
A: 综合考虑：

- AI模型调用成本
- 处理时间长度
- 资源消耗情况
- 用户价值获得

### 7.3 表单配置

**Q: 表单字段数量有限制吗？**
A: 建议控制在5-10个字段以内，过多字段会影响用户体验。

### 7.4 系统提示词

**Q: 系统提示词长度有限制吗？**
A: 建议控制在500-1000字符，过长可能影响模型理解效果。

## 8. 技术实现

### 8.1 数据存储

- 应用配置存储在SQLite数据库
- 分类信息存储在localStorage（支持自定义）
- 支持导入导出配置

### 8.2 安全考虑

- 管理员权限验证
- 用户输入内容过滤
- 模型调用频率限制
- 敏感内容检测

### 8.3 性能优化

- 表单字段懒加载
- AI模型调用缓存
- 响应时间监控
- 错误处理机制

## 9. 更新日志

### v1.0.0 (当前版本)

- ✅ 基础智能体创建和管理
- ✅ 动态表单配置
- ✅ AI模型集成
- ✅ 自定义分类管理
- ✅ 智能费用建议
- ✅ 完整的管理界面

### 计划功能

- 📋 应用模板系统
- 📈 使用统计分析
- 🔄 批量操作功能
- 📱 移动端适配优化
- 🌐 多语言支持

---

_最后更新：2025-01-08_
_版本：1.0.0_
